#include <Servo.h>

// Initialize servo object
Servo myservo;

// Define pins for photoresistors
const int PHOTO_RESISTOR_1_PIN = A0;
const int PHOTO_RESISTOR_2_PIN = A1;

// Define threshold for detecting a decrease in light
const int THRESHOLD1 = 250;
const int THRESHOLD2 = 15;

// Define servo positions
const int SERVO_POS_1 = 90;
const int SERVO_POS_2 = 0;

// Define state variables
bool mode1 = true;

void setup() {
  // Attach servo to pin 9
  myservo.attach(8);
}

void loop() {
  // Read the values of the two photoresistors
  int photo1 = analogRead(PHOTO_RESISTOR_1_PIN);
  int photo2 = analogRead(PHOTO_RESISTOR_2_PIN);

  // Check if both photoresistors detect a decrease in light


  // Check which mode is active and move the servo accordingly
  if (mode1) {
    // Move servo to one position
    if (photo1 < THRESHOLD1) {
      myservo.write(SERVO_POS_2);
      delay(500); 
    }
    // Move servo back to initial position
    else if (photo2 > THRESHOLD2) {
      myservo.write(SERVO_POS_1);
      mode1 = !mode1;
      delay(500); 
    }
  }
  else {
    // Move servo to the other position
    if (photo2 > THRESHOLD2) {
      myservo.write(SERVO_POS_2);
      delay(500); 
    }
    // Move servo back to initial position
    else if (photo1 > THRESHOLD1) {
      myservo.write(SERVO_POS_1);
      mode1 = !mode1;
      delay(500); 
    }
  }
}
